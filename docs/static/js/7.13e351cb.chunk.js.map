{"version":3,"sources":["views/light/index/offline/companyMgt/companyList/config.js","api/lightUrls.js","api/urls.js","api/common.js","api/index.js","api/lightApi.js","views/light/index/offline/companyMgt/companyList/TableTool.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","views/light/index/offline/companyMgt/companyList/MyTable.js"],"names":["columns","title","dataIndex","fixed","render","text","src","className","alt","0","1","record","updateTime","urls","light","login","list","myBooks","detail","comapny","axios","defaults","baseURL","interceptors","request","use","config","headers","token","localStorage","getItem","method","params","data","err","Promise","reject","response","res","code","message","warning","common","a","Api","url","id","company","TableTool","type","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","CompanyList","props","useState","setList","total","setTotal","current","setCurrent","pageSize","setPageSize","handlePage","page","size","then","action","width","danger","onClick","console","log","handleDelete","handleEdit","useEffect","dataSource","rowKey","scroll","scrollToFirstRowOnChange","x","pagination","onChange","showSizeChanger","pageSizeOptions","onShowSizeChange","showTotal"],"mappings":"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","file":"static/js/7.13e351cb.chunk.js","sourcesContent":["const columns = [\r\n  {\r\n    title: 'ID',\r\n    dataIndex: 'id',\r\n    fixed: 'left',\r\n  },\r\n  {\r\n    title: '商户名称',\r\n    dataIndex: 'companyName'\r\n  },  \r\n  {\r\n    title: '企业/学校名称',\r\n    dataIndex: 'schoolName'\r\n  },  \r\n  {\r\n    title: '电话/短信',\r\n    dataIndex: 'phone'\r\n  },  \r\n  {\r\n    title: 'logo',\r\n    dataIndex: 'logo',\r\n    render: (text) => (<img src={text} className=\"m-company-img\" alt={'图片'}></img>)\r\n  },  \r\n  {\r\n    title: '百度审核',\r\n    dataIndex: 'checkStatus',\r\n    render: (text) => {\r\n      let hook = {\r\n        0: '已通过',\r\n        1: '审核中'\r\n      }\r\n      return (<span className=\"m-company-check-status\">{hook[text]}</span>)\r\n    }\r\n  }, \r\n  {\r\n    title: '百度审核时间',\r\n    dataIndex: 'checkTime'\r\n  },\r\n  {\r\n    title: '添加/更新时间',\r\n    dataIndex: 'addTime',\r\n    render: (text, record) => {\r\n      return (<div>{`${text}  ${record.updateTime}`}</div>)\r\n    }\r\n  },\r\n  {\r\n    title: '运营人员',\r\n    dataIndex: 'operators'\r\n  },  \r\n  {\r\n    title: '发布状态',\r\n    dataIndex: 'releaseStatus',\r\n    render: (text) => {\r\n      let hook = {\r\n        0: '下架',\r\n        1: '上架'\r\n      }\r\n      return (<span className=\"m-company-check-status\">{hook[text]}</span>)\r\n    }    \r\n  }, \r\n]\r\n\r\nexport { columns }","const urls = {\r\n  login: '/api/login',\r\n  list: '/api/list',\r\n  myBooks: '/api/my_books',\r\n  detail: '/api/detail/',\r\n  comapny: '/api/company'\r\n}\r\n\r\nexport default urls","import light from \"./lightUrls\"\r\n\r\nconst urls = {\r\n  light,\r\n}\r\n\r\nexport default urls\r\n","import axios from 'axios'\r\nimport { message } from 'antd'\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  axios.defaults.baseURL = 'http://localhost:81' //\"http://localhost:81\"\r\n} else {\r\n  axios.defaults.baseURL = 'https://efficacious-tiny-infinity.glitch.me'\r\n}\r\n\r\naxios.interceptors.request.use(\r\n  (config) => {\r\n    config.headers.token = localStorage.getItem('token') || ''\r\n\r\n    // if (config.isNeedExtraData !== false) {\r\n    //   let extraData = { userId: 1 }\r\n    //   if (config.method === \"get\") {\r\n    //     config.params = { ...extraData, ...config.data }\r\n    //   } else {\r\n    //     config.data = { ...extraData, ...config.data }\r\n    //   }\r\n    // }\r\n    if (config.method === 'get') {\r\n      config.params = { ...config.data }\r\n    } else {\r\n      config.data = { ...config.data }\r\n    }\r\n    return config\r\n  },\r\n  (err) => {\r\n    return Promise.reject(err)\r\n  }\r\n)\r\n\r\naxios.interceptors.response.use((res) => {\r\n  if (res.data.code === 200) {\r\n    return res.data\r\n  } else if (res.data.code === 400) {\r\n    message.warning(res.data.message)\r\n    return res.data\r\n  } else {\r\n    return Promise.reject(res)\r\n  }\r\n})\r\n\r\nexport const common = async (config) => {\r\n  let res = await axios(config)\r\n  return res\r\n}\r\n","import light from './lightApi'\r\n\r\nconst Api = {\r\n  light\r\n}\r\n\r\nexport default Api\r\n\r\n\r\n\r\n","import urls from './urls'\r\nimport { common } from './common'\r\n\r\nconst Api = {\r\n  login: (data) => common({ url: urls.light.login, data, method: 'post' }),\r\n  list: () => common({ url: urls.light.list }),\r\n  myBooks: (data, method) => common({ url: urls.light.myBooks, data, method }),\r\n  detail: (id) => common({ url: urls.light.detail + id }),\r\n  company: (data, method) => common({ url: urls.light.comapny, data, method })\r\n}\r\n\r\nexport default Api","import React from 'react'\r\nimport { Button } from 'antd'\r\n\r\nexport default function TableTool() {\r\n  return (\r\n    <div className=\"m-content-table-tool\">\r\n      <div className=\"m-content-table-tool-row\">\r\n        <Button className=\"m-btn\" type=\"primary\">\r\n          添加商户\r\n        </Button>\r\n        <Button className=\"m-btn\" type=\"primary\">\r\n          快速添加商户\r\n        </Button>\r\n      </div>\r\n      <div className=\"m-content-table-tool-row\">\r\n        <Button className=\"m-btn\" type=\"primary\">\r\n          批量设置运营人员\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useEffect, useState } from 'react'\r\nimport { Table, Button } from 'antd'\r\nimport Api from '../.././../../../../api'\r\nimport { columns } from './config'\r\nimport TableTool from './TableTool'\r\n\r\nexport default function CompanyList(props) {\r\n  const [list, setList] = useState([])\r\n  const [total, setTotal] = useState()\r\n  const [current, setCurrent] = useState(1)\r\n  const [pageSize, setPageSize] = useState(10)\r\n\r\n  const handlePage = (page, pageSize) => {\r\n    Api.light.company({ page, size: pageSize }, 'get').then((res) => {\r\n      if (res.code === 200) {\r\n        setList(res.data.list)\r\n        setTotal(res.data.total)\r\n        setCurrent(res.data.current)\r\n        setPageSize(res.data.pageSize)\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleDelete = (record) => {\r\n    console.log('删除, id:', record.id)\r\n  }\r\n\r\n  const handleEdit = (record) => {\r\n    console.log('编辑, id:', record.id)\r\n  }\r\n\r\n  const action = {\r\n    title: '操作',\r\n    width: 220,\r\n    render: (record) => {\r\n      return (\r\n        <div className=\"m-action\">\r\n            <Button className=\"m-action-btn\"  size=\"small\" danger onClick={() => handleDelete(record)}>\r\n              删除\r\n            </Button>\r\n            <Button className=\"m-action-btn\"  size=\"small\">查看</Button>\r\n            <Button className=\"m-action-btn\"  size=\"small\" onClick={() => handleEdit(record)}>\r\n              编辑\r\n            </Button>\r\n            <Button className=\"m-action-btn\"  size=\"small\">预览</Button>\r\n          <Button className=\"m-action-btn\"  size=\"small\">店铺管理</Button>\r\n          <Button className=\"m-action-btn\"  size=\"small\">课程管理</Button>\r\n          <Button className=\"m-action-btn\"  size=\"small\">老师管理</Button>\r\n          <Button className=\"m-action-btn\"  size=\"small\">百度更新</Button>\r\n          <Button className=\"m-action-btn\"  size=\"small\">百度查看</Button>\r\n          <Button className=\"m-action-btn\"  size=\"small\">更新电话</Button>\r\n        </div>\r\n      )\r\n    },\r\n  }\r\n\r\n  useEffect(() => {\r\n    handlePage(current, pageSize)\r\n  }, [props])\r\n  return (\r\n    <div className=\"m-table-wrap\">\r\n      <TableTool></TableTool>\r\n      <Table\r\n        className=\"m-my-table\"\r\n        columns={[...columns, action]}\r\n        dataSource={list}\r\n        rowKey=\"id\"\r\n        scroll={{ scrollToFirstRowOnChange: true, x: 800 }}\r\n        pagination={{\r\n          current,\r\n          total,\r\n          pageSize,\r\n          onChange: (page, pageSize) => handlePage(page, pageSize),\r\n          showSizeChanger: true,\r\n          pageSizeOptions: [10, 20, 50],\r\n          onShowSizeChange: (current, size) => handlePage(current, size),\r\n          showTotal: (total) => `共有数据 ${total} 条`,\r\n        }}\r\n      ></Table>\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}